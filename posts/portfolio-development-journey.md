---
title: このポートフォリオブログの開発ジャーニー
date: '2024-06-29'
tags: ['Next.js', 'React', 'Web開発', 'ポートフォリオ', '学習記録']
categories: ['開発', 'プロジェクト']
---

## はじめに

このブログは、私の学習と開発の記録、そして技術的なアウトプットの場として構築しました。Next.jsとReactを基盤に、モダンなWeb開発のプラクティスを取り入れながら、ゼロから作り上げていく過程は多くの学びがありました。

## 技術スタック

主要な技術スタックは以下の通りです。

*   **フレームワーク**: Next.js (React)
*   **スタイリング**: Bootstrap, CSS Modules, グローバルCSS (CSS変数によるテーマ対応)
*   **コンテンツ管理**: Markdown (gray-matter)
*   **その他**: remark (Markdownパーサー), unist-util-visit, github-slugger (目次生成用)

Next.jsのSSG (Static Site Generation) 機能を利用することで、高速なページ表示とSEOに強いブログを実現しています。

## 実装した主な機能

### 1. ブログ記事機能

Markdownファイルで記事を管理し、`lib/posts.js` でパースして表示しています。記事にはタイトル、日付、そして今回追加したタグとカテゴリを付与できるようにしました。

### 2. 読書リスト機能

読んだ書籍や技術書を一覧で表示する専用ページを設けました。JSONファイルで書籍データを管理し、各書籍の詳細レビューはブログ記事としてリンクしています。これにより、読書記録を体系的に管理し、共有できるようになりました。

### 3. 検索・ソート機能

ブログ記事と読書リストの両方に、キーワード検索と日付によるソート機能（新しい順/古い順）を実装しました。これにより、コンテンツ量が増えてもユーザーが目的の情報に素早くアクセスできるよう、ユーザビリティを向上させています。

### 4. 目次機能

各ブログ記事の左側に、記事内の見出しを抽出した目次を配置しました。スクロールに追従するStickyなUIを採用することで、長い記事でも読者が現在地を把握しやすくなっています。

### 5. ダーク/ライトモード切り替え

ユーザーの好みに合わせて、サイト全体のテーマをダークモードとライトモードで切り替えられるようにしました。CSS変数を活用することで、統一感のあるデザインを保ちつつ、柔軟なテーマ変更を実現しています。

## 開発中に直面した課題と解決策

### 1. `fs` モジュールのクライアントサイド実行エラー

Next.jsのデータフェッチングの仕組みを理解していなかったため、`lib/posts.js` で使用している`fs`モジュールがクライアントサイドで実行され、エラーが発生しました。`getStaticProps`でビルド時にデータを取得し、クライアントサイドではそのデータを操作するように修正することで解決しました。

### 2. `Layout` コンポーネントの二重レンダリング

`_app.js`でサイト全体に`Layout`を適用しているにも関わらず、個別のページコンポーネントでも`Layout`をラップしていたため、ナビゲーションバーが二重に表示される問題が発生しました。各ページから`Layout`の直接的な使用を削除することで解決しました。

### 3. CSSでのテーマ対応とレイアウト調整

ダーク/ライトモードの切り替えや、目次と記事本文の2カラムレイアウト、検索バーの配置など、CSSでの細かな調整に時間を要しました。CSS変数やFlexbox、Sticky Positioningなどを活用し、レスポンシブかつテーマに合わせたデザインを実現しました。

## 学びと今後の展望

このポートフォリオブログの開発を通じて、Next.jsのデータフェッチング、Reactのコンポーネント設計、CSSでの複雑なレイアウトとテーマ管理、そして開発環境でのデバッグスキルなど、多岐にわたる知識と経験を深めることができました。

今後は、お問い合わせフォームの追加や、より高度な検索機能（例えば、Algoliaなどの外部サービス連携）、パフォーマンス最適化など、さらなる機能拡張と改善を検討しています。このブログが、私の技術的な成長を示す場として、また皆様との交流のきっかけとなれば幸いです。
